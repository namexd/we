(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-main"],{"09cc":function(e,t,a){"use strict";var i=a("c5b3"),n=a.n(i);n.a},"2cb2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[e.loaded?a("v-uni-view",[a("page-head",{attrs:{title:"实名认证"}}),e.userInfo?a("v-uni-view",{staticClass:"hello"},[a("v-uni-view",{staticClass:"uni-card"},[a("v-uni-view",{staticClass:"uni-card-header uni-card-media"},[a("v-uni-image",{staticClass:"uni-card-media-logo headimgurl",attrs:{src:e.userInfo.headimgurl}}),a("v-uni-view",{staticClass:"uni-card-media-body"},[a("v-uni-text",{staticClass:"uni-card-media-text-top"},[e._v(" "+e._s(e.userInfo.name))]),a("v-uni-text",{staticClass:"uni-card-media-text-bottom"},[e._v("注册时间: "+e._s(e.userInfo.created_at))])],1)],1),a("v-uni-view",{staticClass:"uni-card-content"},[a("v-uni-view",{staticClass:"uni-card-content-inner"},[a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell-divider"},[e._v("\n\t\t\t\t\t\t\t\t真实姓名\n\t\t\t\t\t\t\t")]),a("v-uni-view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.userInfo.realname)+"\n\t\t\t\t\t\t\t\t")])],1)],1),a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell-divider"},[e._v("\n\t\t\t\t\t\t\t\t手机号码\n\t\t\t\t\t\t\t")]),a("v-uni-view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(this.$util.phoneNumber(e.userInfo.phone))+"\n\t\t\t\t\t\t\t\t\t"),a("uni-badge",{attrs:{text:1==e.userInfo.phone_verified?"已验证":"未验证",type:1==e.userInfo.phone_verified?"success":"danger"}})],1)],1)],1)],1)],1),a("v-uni-view",{staticClass:"uni-card-footer"},[a("v-uni-view",{staticClass:"uni-card-link"}),a("v-uni-view",{staticClass:"uni-card-link"}),a("v-uni-view",{staticClass:"uni-card-link"})],1)],1)],1):a("v-uni-view",{staticClass:"hello"},[a("v-uni-view",{staticClass:"uni-card"},[a("v-uni-view",{staticClass:"uni-card-header uni-card-media"},[a("v-uni-image",{staticClass:"uni-card-media-logo",attrs:{src:"//static.coldyun.net/images/logo/lw800x800.jpg"}}),a("v-uni-view",{staticClass:"uni-card-media-body"},[a("v-uni-text",{staticClass:"uni-card-media-text-top"},[e._v(" 匿名 ")]),a("v-uni-text",{staticClass:"uni-card-media-text-bottom"})],1)],1),a("v-uni-view",{staticClass:"uni-card-content"},[a("v-uni-view",{staticClass:"uni-card-content-inner"},[a("v-uni-button",{attrs:{type:"warn"},on:{click:function(t){t=e.$handleEvent(t),e.verifyphone(t)}}},[e._v("请先绑定手机号")])],1)],1),a("v-uni-view",{staticClass:"uni-card-footer"},[a("v-uni-view",{staticClass:"uni-card-link"}),a("v-uni-view",{staticClass:"uni-card-link"}),a("v-uni-view",{staticClass:"uni-card-link"})],1)],1)],1)],1):e._e()],1)},n=[],o=a("7f04"),s=a("64d0"),l=a("b4fd"),c=a("b5fd"),r={data:function(){return{userInfo:null,name:"",loaded:!1}},components:{PageHead:o["a"],UniBadge:s["a"]},computed:Object(l["c"])(["forcedLogin","hasLogin","userName"]),methods:{verifyphone:function(){uni.navigateTo({url:"../verifyphone/verifyphone"})},alertToVerifyPhone:function(e){this.$util.isNull(e.phone)&&Object(c["a"])({title:"提示",content:"手机号未验证",showCancel:!1,cancel_url:"../verifyphone/verifyphone",goto_url:"../verifyphone/verifyphone"})},getUserInfo:function(){var e=this;Object(c["b"])().then(function(t){e.userInfo=t,e.alertToVerifyPhone(t),e.loaded=!0,uni.hideLoading(),console.log(e.userInfo)}).catch(function(e){uni.reLaunch({url:"/pages/main/main"})})}},created:function(){var e=this;uni.showLoading({title:"加载中..."}),console.log("on load");var t=this.$route.query.openid,a=this.$route.query.access_token;if(this.$util.isNull(t)&&this.$util.isNull(localStorage.getItem("we.openid")))return console.log("openid",t),console.log("access_token",a),void Object(c["e"])();if(this.$util.isNull(localStorage.getItem("we.openid"))){var i={openid:t,access_token:a};Object(c["d"])(i).then(function(a){localStorage.setItem("we.openid",t),localStorage.setItem("api.access_token",a.access_token),localStorage.setItem("api.expires_at",Date.parse(new Date)+1e3*a.expires_in),localStorage.setItem("api.token_type",a.token_type),e.getUserInfo()}).catch(function(e){alert(e.toString()),console.log(e)})}else if(Date.parse(new Date)>localStorage.getItem("api.expires_at")||this.$util.isNull(localStorage.getItem("api.expires_at"))){i={openid:localStorage.getItem("we.openid")};Object(c["c"])(i).then(function(a){console.log(a),localStorage.setItem("we.openid",t),localStorage.setItem("api.access_token",a.access_token),localStorage.setItem("api.expires_at",Date.parse(new Date)+1e3*a.expires_in),localStorage.setItem("api.token_type",a.token_type),e.getUserInfo()}).catch(function(e){alert(e.toString()),console.log(e),Object(c["a"])({title:"提示",content:"验证失败，请清楚缓存后重试",showCancel:!1,cancel_url:"../verifyphone/verifyphone",goto_url:""})})}else this.getUserInfo()},mounted:function(){}},u=r,d=(a("09cc"),a("2877")),v=Object(d["a"])(u,i,n,!1,null,"fa42de5a",null);v.options.__file="main.vue";t["default"]=v.exports},5256:function(e,t,a){var i=a("c481");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("2c9b7597",i,!0,{sourceMap:!1,shadowMode:!1})},"64d0":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.text?a("v-uni-text",{staticClass:"uni-badge",class:e.setClass,on:{click:function(t){t=e.$handleEvent(t),e.onClick()}}},[e._v(e._s(e.text))]):e._e()},n=[],o={props:{type:{type:String,default:"default"},inverted:{type:Boolean,default:!1},text:{type:String,default:""},size:{type:String,default:"normal"}},computed:{setClass:function(){var e=["uni-badge-"+this.type,"uni-badge-size-"+this.size];return!0===this.inverted&&e.push("uni-badge-inverted"),e.join(" ")}},methods:{onClick:function(){this.$emit("click")}}},s=o,l=(a("ec20"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,"3f0b6909",null);c.options.__file="uni-badge.vue";t["a"]=c.exports},"7f04":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-page-head"},[a("v-uni-view",{staticClass:"uni-page-head-title"},[e._v(e._s(e.title))])],1)},n=[],o={name:"page-head",props:{title:{type:String,default:""}}},s=o,l=a("2877"),c=Object(l["a"])(s,i,n,!1,null,null,null);c.options.__file="page-head.vue";t["a"]=c.exports},c2ff:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"\n.hello[data-v-fa42de5a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column\n}\n.title[data-v-fa42de5a]{color:#8f8f94;margin-top:50px\n}\n.ul[data-v-fa42de5a]{font-size:20px;color:#8f8f94;margin-top:50px\n}\n.ul>uni-view[data-v-fa42de5a]{line-height:20px\n}\n.headimgurl[data-v-fa42de5a]{border-radius:50px\n}",""])},c481:function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"\n.uni-badge[data-v-3f0b6909],.uni-badge-default[data-v-3f0b6909]{font-family:Helvetica Neue,Helvetica,sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:12px;line-height:1;display:inline-block;padding:3px 6px;color:#333;border-radius:100px\n}\n.uni-badge-default.uni-badge-size-small[data-v-3f0b6909],.uni-badge.uni-badge-size-small[data-v-3f0b6909]{height:10px;line-height:11px;padding:0 3px;font-size:8px!important\n}\n.uni-badge.uni-badge-inverted[data-v-3f0b6909]{padding:0 5px 0 0;color:#929292;background-color:rgba(0,0,0,0)\n}\n.uni-badge-primary[data-v-3f0b6909]{color:#fff;background-color:#007aff\n}\n.uni-badge-blue.uni-badge-inverted[data-v-3f0b6909],.uni-badge-primary.uni-badge-inverted[data-v-3f0b6909]{color:#007aff;background-color:rgba(0,0,0,0)\n}\n.uni-badge-green[data-v-3f0b6909],.uni-badge-success[data-v-3f0b6909]{color:#fff;background-color:#4cd964\n}\n.uni-badge-green.uni-badge-inverted[data-v-3f0b6909],.uni-badge-success.uni-badge-inverted[data-v-3f0b6909]{color:#4cd964;background-color:rgba(0,0,0,0)\n}\n.uni-badge-warning[data-v-3f0b6909],.uni-badge-yellow[data-v-3f0b6909]{color:#fff;background-color:#f0ad4e\n}\n.uni-badge-warning.uni-badge-inverted[data-v-3f0b6909],.uni-badge-yellow.uni-badge-inverted[data-v-3f0b6909]{color:#f0ad4e;background-color:rgba(0,0,0,0)\n}\n.uni-badge-danger[data-v-3f0b6909],.uni-badge-red[data-v-3f0b6909]{color:#fff;background-color:#dd524d\n}\n.uni-badge-danger.uni-badge-inverted[data-v-3f0b6909],.uni-badge-red.uni-badge-inverted[data-v-3f0b6909]{color:#dd524d;background-color:rgba(0,0,0,0)\n}\n.uni-badge-purple[data-v-3f0b6909],.uni-badge-royal[data-v-3f0b6909]{color:#fff;background-color:#8a6de9\n}\n.uni-badge-purple.uni-badge-inverted[data-v-3f0b6909],.uni-badge-royal.uni-badge-inverted[data-v-3f0b6909]{color:#8a6de9;background-color:rgba(0,0,0,0)\n}",""])},c5b3:function(e,t,a){var i=a("c2ff");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("e4048de8",i,!0,{sourceMap:!1,shadowMode:!1})},ec20:function(e,t,a){"use strict";var i=a("5256"),n=a.n(i);n.a}}]);