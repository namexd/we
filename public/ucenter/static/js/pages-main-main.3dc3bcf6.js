(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-main"],{"2cb2":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[e.loaded?i("v-uni-view",[i("page-head",{attrs:{title:"实名认证"}}),e.userInfo?i("v-uni-view",{staticClass:"hello"},[i("v-uni-view",{staticClass:"uni-card"},[i("v-uni-view",{staticClass:"uni-card-header uni-card-media"},[i("v-uni-image",{staticClass:"uni-card-media-logo headimgurl",attrs:{src:e.userInfo.headimgurl}}),i("v-uni-view",{staticClass:"uni-card-media-body"},[i("v-uni-text",{staticClass:"uni-card-media-text-top"},[e._v(" "+e._s(e.userInfo.name))]),i("v-uni-text",{staticClass:"uni-card-media-text-bottom"},[e._v("注册时间: "+e._s(e.userInfo.created_at))])],1)],1),i("v-uni-view",{staticClass:"uni-card-content"},[i("v-uni-view",{staticClass:"uni-card-content-inner"},[i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell-divider"},[e._v("\n\t\t\t\t\t\t\t\t真实姓名\n\t\t\t\t\t\t\t")]),i("v-uni-view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("v-uni-view",{staticClass:"uni-list-cell-navigate"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.userInfo.realname)+"\n\t\t\t\t\t\t\t\t")])],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell-divider"},[e._v("\n\t\t\t\t\t\t\t\t手机号码\n\t\t\t\t\t\t\t")]),i("v-uni-view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("v-uni-view",{staticClass:"uni-list-cell-navigate"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(this.$util.phoneNumber(e.userInfo.phone))+"\n\t\t\t\t\t\t\t\t\t"),i("uni-badge",{attrs:{text:1==e.userInfo.phone_verified?"已验证":"未验证",type:1==e.userInfo.phone_verified?"success":"danger"}})],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-card-footer"},[i("v-uni-view",{staticClass:"uni-card-link"},[i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:0,expression:"0"}],attrs:{size:"mini"},on:{click:function(t){t=e.$handleEvent(t),e.clearInfo()}}},[e._v("清除缓存")])],1),i("v-uni-view",{staticClass:"uni-card-link"}),i("v-uni-view",{staticClass:"uni-card-link"})],1)],1)],1):i("v-uni-view",{staticClass:"hello"},[i("v-uni-view",{staticClass:"uni-card"},[i("v-uni-view",{staticClass:"uni-card-header uni-card-media"},[i("v-uni-image",{staticClass:"uni-card-media-logo",attrs:{src:"//static.coldyun.net/images/logo/lw800x800.jpg"}}),i("v-uni-view",{staticClass:"uni-card-media-body"},[i("v-uni-text",{staticClass:"uni-card-media-text-top"},[e._v(" 匿名 ")]),i("v-uni-text",{staticClass:"uni-card-media-text-bottom"})],1)],1),i("v-uni-view",{staticClass:"uni-card-content"},[i("v-uni-view",{staticClass:"uni-card-content-inner"},[i("v-uni-button",{attrs:{type:"warn"},on:{click:function(t){t=e.$handleEvent(t),e.verifyphone(t)}}},[e._v("请先绑定手机号")])],1)],1),i("v-uni-view",{staticClass:"uni-card-footer"},[i("v-uni-view",{staticClass:"uni-card-link"}),i("v-uni-view",{staticClass:"uni-card-link"}),i("v-uni-view",{staticClass:"uni-card-link"})],1)],1)],1)],1):e._e()],1)},a=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"uni-page-head"},[i("v-uni-view",{staticClass:"uni-page-head-title"},[e._v(e._s(e.title))])],1)},o=[],l={name:"page-head",props:{title:{type:String,default:""}}},c=l,r=i("2877"),u=Object(r["a"])(c,s,o,!1,null,null,null);u.options.__file="page-head.vue";var d=u.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.text?i("v-uni-text",{staticClass:"uni-badge",class:e.setClass,on:{click:function(t){t=e.$handleEvent(t),e.onClick()}}},[e._v(e._s(e.text))]):e._e()},f=[],g={props:{type:{type:String,default:"default"},inverted:{type:Boolean,default:!1},text:{type:String,default:""},size:{type:String,default:"normal"}},computed:{setClass:function(){var e=["uni-badge-"+this.type,"uni-badge-size-"+this.size];return!0===this.inverted&&e.push("uni-badge-inverted"),e.join(" ")}},methods:{onClick:function(){this.$emit("click")}}},b=g,p=(i("ec20"),Object(r["a"])(b,v,f,!1,null,"3f0b6909",null));p.options.__file="uni-badge.vue";var h=p.exports,w=i("b4fd"),_=i("b5fd"),m={data:function(){return{userInfo:null,name:"",loaded:!1,loadTimes:0}},components:{PageHead:d,UniBadge:h},computed:Object(w["b"])(["forcedLogin","hasLogin","userName"]),methods:{verifyphone:function(){uni.navigateTo({url:"../verifyphone/verifyphone"})},alertToVerifyPhone:function(e){(this.$util.isNull(e.phone)||0==e.phone_verified)&&Object(_["a"])({title:"提示",content:"手机号未验证",showCancel:!1,cancel_url:"../verifyphone/verifyphone",goto_url:"../verifyphone/verifyphone"})},getUserInfo:function(){var e=this;Object(_["b"])().then(function(t){e.userInfo=t,e.alertToVerifyPhone(t),e.loaded=!0,uni.hideLoading(),console.log(e.userInfo)}).catch(function(e){alert(e.toString()),uni.reLaunch({url:"/pages/main/main"})})},clearInfo:function(){uni.clearStorageSync(),uni.showToast({title:"清除成功"})}},onLoad:function(e){var t=this;this.clearInfo(),this.$util.isNull(uni.getStorageSync("loadTimes"))?this.loadTimes=1:this.loadTimes=uni.getStorageSync("loadTimes"),uni.setStorageSync("loadTimes",this.loadTimes+1),uni.showLoading({title:"加载中..."});var i=e.openid,n=e.access_token;if(this.$util.isNull(i)&&this.$util.isNull(uni.getStorageSync("we_openid")))return console.log("openid",i),console.log("access_token",n),void Object(_["f"])();if(this.$util.isNull(uni.getStorageSync("we_openid"))){var a={openid:i};Object(_["d"])(a).then(function(e){uni.setStorageSync("we_openid",i),uni.setStorageSync("api_access_token",e.access_token),uni.setStorageSync("api_expires_at",Date.parse(new Date)+1e3*e.expires_in),uni.setStorageSync("api_token_type",e.token_type),t.$nextTick(function(){this.getUserInfo()})}).catch(function(e){alert(e.message),console.log(e)})}else if(Date.parse(new Date)>uni.getStorageSync("api_expires_at")||this.$util.isNull(uni.getStorageSync("api_expires_at"))){a={openid:uni.getStorageSync("we_openid")};Object(_["d"])(a).then(function(e){console.log(e),uni.setStorageSync("we_openid",i),uni.setStorageSync("api_access_token",e.access_token),uni.setStorageSync("api_expires_at",Date.parse(new Date)+1e3*e.expires_in),uni.setStorageSync("api_token_type",e.token_type),t.$nextTick(function(){this.getUserInfo()})}).catch(function(e){alert(e.message),console.log(e),Object(_["a"])({title:"提示",content:"验证失败，请清楚缓存后重试",showCancel:!1,cancel_url:"../verifyphone/verifyphone",goto_url:""})})}else this.getUserInfo()},mounted:function(){}},x=m,y=(i("960a"),Object(r["a"])(x,n,a,!1,null,"38f604c6",null));y.options.__file="main.vue";t["default"]=y.exports},5256:function(e,t,i){var n=i("c481");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("2c9b7597",n,!0,{sourceMap:!1,shadowMode:!1})},5549:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"\n.hello[data-v-38f604c6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column\n}\n.title[data-v-38f604c6]{color:#8f8f94;margin-top:50px\n}\n.ul[data-v-38f604c6]{font-size:20px;color:#8f8f94;margin-top:50px\n}\n.ul>uni-view[data-v-38f604c6]{line-height:20px\n}\n.headimgurl[data-v-38f604c6]{border-radius:50px\n}",""])},"960a":function(e,t,i){"use strict";var n=i("e1ac"),a=i.n(n);a.a},c481:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"\n.uni-badge[data-v-3f0b6909],.uni-badge-default[data-v-3f0b6909]{font-family:Helvetica Neue,Helvetica,sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:12px;line-height:1;display:inline-block;padding:3px 6px;color:#333;border-radius:100px\n}\n.uni-badge-default.uni-badge-size-small[data-v-3f0b6909],.uni-badge.uni-badge-size-small[data-v-3f0b6909]{height:10px;line-height:11px;padding:0 3px;font-size:8px!important\n}\n.uni-badge.uni-badge-inverted[data-v-3f0b6909]{padding:0 5px 0 0;color:#929292;background-color:rgba(0,0,0,0)\n}\n.uni-badge-primary[data-v-3f0b6909]{color:#fff;background-color:#007aff\n}\n.uni-badge-blue.uni-badge-inverted[data-v-3f0b6909],.uni-badge-primary.uni-badge-inverted[data-v-3f0b6909]{color:#007aff;background-color:rgba(0,0,0,0)\n}\n.uni-badge-green[data-v-3f0b6909],.uni-badge-success[data-v-3f0b6909]{color:#fff;background-color:#4cd964\n}\n.uni-badge-green.uni-badge-inverted[data-v-3f0b6909],.uni-badge-success.uni-badge-inverted[data-v-3f0b6909]{color:#4cd964;background-color:rgba(0,0,0,0)\n}\n.uni-badge-warning[data-v-3f0b6909],.uni-badge-yellow[data-v-3f0b6909]{color:#fff;background-color:#f0ad4e\n}\n.uni-badge-warning.uni-badge-inverted[data-v-3f0b6909],.uni-badge-yellow.uni-badge-inverted[data-v-3f0b6909]{color:#f0ad4e;background-color:rgba(0,0,0,0)\n}\n.uni-badge-danger[data-v-3f0b6909],.uni-badge-red[data-v-3f0b6909]{color:#fff;background-color:#dd524d\n}\n.uni-badge-danger.uni-badge-inverted[data-v-3f0b6909],.uni-badge-red.uni-badge-inverted[data-v-3f0b6909]{color:#dd524d;background-color:rgba(0,0,0,0)\n}\n.uni-badge-purple[data-v-3f0b6909],.uni-badge-royal[data-v-3f0b6909]{color:#fff;background-color:#8a6de9\n}\n.uni-badge-purple.uni-badge-inverted[data-v-3f0b6909],.uni-badge-royal.uni-badge-inverted[data-v-3f0b6909]{color:#8a6de9;background-color:rgba(0,0,0,0)\n}",""])},e1ac:function(e,t,i){var n=i("5549");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("d9643634",n,!0,{sourceMap:!1,shadowMode:!1})},ec20:function(e,t,i){"use strict";var n=i("5256"),a=i.n(n);a.a}}]);