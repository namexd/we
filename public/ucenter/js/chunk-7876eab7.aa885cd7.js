(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7876eab7"],{"30c6":function(e,t,o){"use strict";o.r(t);var s,n,r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{width:"500px",margin:"auto"}},[o("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"错误提示",type:"error",description:"请先绑定手机号！","show-icon":""}}),o("el-card",[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("绑定手机号：")]),o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"姓名"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"手机号码"}},[o("el-input",{attrs:{maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),o("el-form-item",{attrs:{label:"验证码"}},[o("el-input",{model:{value:e.form.vcode,callback:function(t){e.$set(e.form,"vcode",t)},expression:"form.vcode"}},[o("el-button",{attrs:{slot:"append",disabled:e.btnGetVcodeDisabled},on:{click:e.getVCode},slot:"append"},[e._v(e._s(e.getVCodeTitle)+"\n                    ")])],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])],1)],1)],1)],1)},i=[],a=(o("7f7f"),o("cadf"),o("551c"),o("097d"),o("4ec3")),l={name:"verifyphone",data:function(){return{getVCodeTitle:"点击获取验证码",btnGetVcodeDisabled:!1,form:{name:null,phone:null,vcode:null},bindPhoneTips:null}},created:function(){var e=localStorage.getItem("getVcodeTime");if(e){var t=Date.parse(new Date)/1e3;this.publicRecordMsg(60-(t-e)),e&&e+60>t?this.recordVcodTimer(60-(t-e)):this.publicTimeoutHandle()}},methods:{publicRecordMsg:function(e){this.getVCodeTitle="("+e+")秒后可重发"},publicTimeoutHandle:function(){this.btnGetVcodeDisabled=!1,this.getVCodeTitle="点击获取验证码",localStorage.removeItem("getVcodeTime")},getVCode:function(){null==this.form.phone?this.$message({showClose:!0,message:"请输入正确的手机号码！",type:"error"}):(localStorage.setItem("getVcodeTime",Date.parse(new Date)/1e3),this.publicRecordMsg(59),this.recordVcodTimer(59),this.getVcodeHandle())},getVcodeHandle:function(){var e=this;Object(a["g"])({phone:this.form.phone}).then(function(e){n=e.data.key}).catch(function(t){e.$message({showClose:!0,message:t.message,dangerouslyUseHTMLString:!0,type:"error"})})},putVCodeHandle:function(){var e=this,t={verification_key:n,verification_code:this.form.vcode,realname:this.form.name};Object(a["i"])(t).then(function(t){e.$message({showClose:!0,message:"绑定成功！",type:"success"}),localStorage.setItem("adopt","1"),e.$router.push("/index")}).catch(function(t){e.$message({showClose:!0,message:t.message,dangerouslyUseHTMLString:!0,type:"error"})})},recordVcodTimer:function(e){var t=this;this.btnGetVcodeDisabled=!0,s=setInterval(function(){e>0?t.publicRecordMsg(e--):(t.publicTimeoutHandle(),clearInterval(s))},1e3)},submit:function(){null==this.form.name?this.$message({showClose:!0,message:"请输入正确的姓名！",type:"error"}):null==this.form.phone?this.$message({showClose:!0,message:"请输入正确的手机号码！",type:"error"}):null==this.form.vcode?this.$message({showClose:!0,message:"请输入正确的验证码！",type:"error"}):this.putVCodeHandle()}}},c=l,m=o("2877"),d=Object(m["a"])(c,r,i,!1,null,null,null);d.options.__file="verifyphone.vue";t["default"]=d.exports},"7f7f":function(e,t,o){var s=o("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in n||o("9e1e")&&s(n,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})}}]);